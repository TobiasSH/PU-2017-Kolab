!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Room=e()}}(function(){var e;return function n(e,t,r){function o(s,a){if(!t[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[s]={exports:{}};e[s][0].call(f.exports,function(n){var t=e[s][1][n];return o(t?t:n)},f,f.exports,n,e,t,r)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,n,t){function r(){f=!1,a.length?u=a.concat(u):l=-1,u.length&&o()}function o(){if(!f){var e=setTimeout(r);f=!0;for(var n=u.length;n;){for(a=u,u=[];++l<n;)a&&a[l].run();l=-1,n=u.length}a=null,f=!1,clearTimeout(e)}}function i(e,n){this.fun=e,this.array=n}function s(){}var a,c=n.exports={},u=[],f=!1,l=-1;c.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];u.push(new i(e,n)),1!==u.length||f||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],2:[function(e,n,t){(function(t){"use strict";function r(e){this.enabled=e&&void 0!==e.enabled?e.enabled:l}function o(e){var n=function(){return i.apply(n,arguments)};return n._styles=e,n.enabled=this.enabled,n.__proto__=g,n}function i(){var e=arguments,n=e.length,t=0!==n&&String(arguments[0]);if(n>1)for(var r=1;n>r;r++)t+=" "+e[r];if(!this.enabled||!t)return t;var o=this._styles,i=o.length,s=c.dim.open;for(!d||-1===o.indexOf("gray")&&-1===o.indexOf("grey")||(c.dim.open="");i--;){var a=c[o[i]];t=a.open+t.replace(a.closeRe,a.open)+a.close}return c.dim.open=s,t}function s(){var e={};return Object.keys(h).forEach(function(n){e[n]={get:function(){return o.call(this,[n])}}}),e}var a=e("escape-string-regexp"),c=e("ansi-styles"),u=e("strip-ansi"),f=e("has-ansi"),l=e("supports-color"),p=Object.defineProperties,d="win32"===t.platform&&!/^xterm/i.test(t.env.TERM);d&&(c.blue.open="[94m");var h=function(){var e={};return Object.keys(c).forEach(function(n){c[n].closeRe=new RegExp(a(c[n].close),"g"),e[n]={get:function(){return o.call(this,this._styles.concat(n))}}}),e}(),g=p(function(){},h);p(r.prototype,s()),n.exports=new r,n.exports.styles=c,n.exports.hasColor=f,n.exports.stripColor=u,n.exports.supportsColor=l}).call(this,e("_process"))},{_process:1,"ansi-styles":3,"escape-string-regexp":4,"has-ansi":5,"strip-ansi":7,"supports-color":9}],3:[function(e,n,t){"use strict";function r(){var e={modifiers:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},colors:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39]},bgColors:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]}};return e.colors.grey=e.colors.gray,Object.keys(e).forEach(function(n){var t=e[n];Object.keys(t).forEach(function(n){var r=t[n];e[n]=t[n]={open:"["+r[0]+"m",close:"["+r[1]+"m"}}),Object.defineProperty(e,n,{value:t,enumerable:!1})}),e}Object.defineProperty(n,"exports",{enumerable:!0,get:r})},{}],4:[function(e,n,t){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;n.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")}},{}],5:[function(e,n,t){"use strict";var r=e("ansi-regex"),o=new RegExp(r().source);n.exports=o.test.bind(o)},{"ansi-regex":6}],6:[function(e,n,t){"use strict";n.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g}},{}],7:[function(e,n,t){"use strict";var r=e("ansi-regex")();n.exports=function(e){return"string"==typeof e?e.replace(r,""):e}},{"ansi-regex":8}],8:[function(e,n,t){arguments[4][6][0].apply(t,arguments)},{dup:6}],9:[function(e,n,t){(function(e){"use strict";var t=e.argv,r=t.indexOf("--"),o=function(e){e="--"+e;var n=t.indexOf(e);return-1!==n&&(-1!==r?r>n:!0)};n.exports=function(){return"FORCE_COLOR"in e.env?!0:o("no-color")||o("no-colors")||o("color=false")?!1:o("color")||o("colors")||o("color=true")||o("color=always")?!0:e.stdout&&!e.stdout.isTTY?!1:"win32"===e.platform?!0:"COLORTERM"in e.env?!0:"dumb"===e.env.TERM?!1:/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(e.env.TERM)?!0:!1}()}).call(this,e("_process"))},{_process:1}],10:[function(n,t,r){!function(n,t){"object"==typeof r&&r&&"string"!=typeof r.nodeName?t(r):"function"==typeof e&&e.amd?e(["exports"],t):(n.Mustache={},t(Mustache))}(this,function(e){function n(e){return"function"==typeof e}function t(e){return g(e)?"array":typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,n){return null!=e&&"object"==typeof e&&n in e}function i(e,n){return v.call(e,n)}function s(e){return!i(y,e)}function a(e){return String(e).replace(/[&<>"'\/]/g,function(e){return m[e]})}function c(n,t){function o(){if(y&&!m)for(;v.length;)delete h[v.pop()];else v=[];y=!1,m=!1}function i(e){if("string"==typeof e&&(e=e.split(w,2)),!g(e)||2!==e.length)throw new Error("Invalid tags: "+e);a=new RegExp(r(e[0])+"\\s*"),c=new RegExp("\\s*"+r(e[1])),p=new RegExp("\\s*"+r("}"+e[1]))}if(!n)return[];var a,c,p,d=[],h=[],v=[],y=!1,m=!1;i(t||e.tags);for(var C,j,O,R,L,T,M=new l(n);!M.eos();){if(C=M.pos,O=M.scanUntil(a))for(var _=0,A=O.length;A>_;++_)R=O.charAt(_),s(R)?v.push(h.length):m=!0,h.push(["text",R,C,C+1]),C+=1,"\n"===R&&o();if(!M.scan(a))break;if(y=!0,j=M.scan(k)||"name",M.scan(b),"="===j?(O=M.scanUntil(x),M.scan(x),M.scanUntil(c)):"{"===j?(O=M.scanUntil(p),M.scan(E),M.scanUntil(c),j="&"):O=M.scanUntil(c),!M.scan(c))throw new Error("Unclosed tag at "+M.pos);if(L=[j,O,C,M.pos],h.push(L),"#"===j||"^"===j)d.push(L);else if("/"===j){if(T=d.pop(),!T)throw new Error('Unopened section "'+O+'" at '+C);if(T[1]!==O)throw new Error('Unclosed section "'+T[1]+'" at '+C)}else"name"===j||"{"===j||"&"===j?m=!0:"="===j&&i(O)}if(T=d.pop())throw new Error('Unclosed section "'+T[1]+'" at '+M.pos);return f(u(h))}function u(e){for(var n,t,r=[],o=0,i=e.length;i>o;++o)n=e[o],n&&("text"===n[0]&&t&&"text"===t[0]?(t[1]+=n[1],t[3]=n[3]):(r.push(n),t=n));return r}function f(e){for(var n,t,r=[],o=r,i=[],s=0,a=e.length;a>s;++s)switch(n=e[s],n[0]){case"#":case"^":o.push(n),i.push(n),o=n[4]=[];break;case"/":t=i.pop(),t[5]=n[2],o=i.length>0?i[i.length-1][4]:r;break;default:o.push(n)}return r}function l(e){this.string=e,this.tail=e,this.pos=0}function p(e,n){this.view=e,this.cache={".":this.view},this.parent=n}function d(){this.cache={}}var h=Object.prototype.toString,g=Array.isArray||function(e){return"[object Array]"===h.call(e)},v=RegExp.prototype.test,y=/\S/,m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b=/\s*/,w=/\s+/,x=/\s*=/,E=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(e){var n=this.tail.match(e);if(!n||0!==n.index)return"";var t=n[0];return this.tail=this.tail.substring(t.length),this.pos+=t.length,t},l.prototype.scanUntil=function(e){var n,t=this.tail.search(e);switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n},p.prototype.push=function(e){return new p(e,this)},p.prototype.lookup=function(e){var t,r=this.cache;if(r.hasOwnProperty(e))t=r[e];else{for(var i,s,a=this,c=!1;a;){if(e.indexOf(".")>0)for(t=a.view,i=e.split("."),s=0;null!=t&&s<i.length;)s===i.length-1&&(c=o(t,i[s])),t=t[i[s++]];else t=a.view[e],c=o(a.view,e);if(c)break;a=a.parent}r[e]=t}return n(t)&&(t=t.call(this.view)),t},d.prototype.clearCache=function(){this.cache={}},d.prototype.parse=function(e,n){var t=this.cache,r=t[e];return null==r&&(r=t[e]=c(e,n)),r},d.prototype.render=function(e,n,t){var r=this.parse(e),o=n instanceof p?n:new p(n);return this.renderTokens(r,o,t,e)},d.prototype.renderTokens=function(e,n,t,r){for(var o,i,s,a="",c=0,u=e.length;u>c;++c)s=void 0,o=e[c],i=o[0],"#"===i?s=this.renderSection(o,n,t,r):"^"===i?s=this.renderInverted(o,n,t,r):">"===i?s=this.renderPartial(o,n,t,r):"&"===i?s=this.unescapedValue(o,n):"name"===i?s=this.escapedValue(o,n):"text"===i&&(s=this.rawValue(o)),void 0!==s&&(a+=s);return a},d.prototype.renderSection=function(e,t,r,o){function i(e){return s.render(e,t,r)}var s=this,a="",c=t.lookup(e[1]);if(c){if(g(c))for(var u=0,f=c.length;f>u;++u)a+=this.renderTokens(e[4],t.push(c[u]),r,o);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)a+=this.renderTokens(e[4],t.push(c),r,o);else if(n(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");c=c.call(t.view,o.slice(e[3],e[5]),i),null!=c&&(a+=c)}else a+=this.renderTokens(e[4],t,r,o);return a}},d.prototype.renderInverted=function(e,n,t,r){var o=n.lookup(e[1]);return!o||g(o)&&0===o.length?this.renderTokens(e[4],n,t,r):void 0},d.prototype.renderPartial=function(e,t,r){if(r){var o=n(r)?r(e[1]):r[e[1]];return null!=o?this.renderTokens(this.parse(o),t,r,o):void 0}},d.prototype.unescapedValue=function(e,n){var t=n.lookup(e[1]);return null!=t?t:void 0},d.prototype.escapedValue=function(n,t){var r=t.lookup(n[1]);return null!=r?e.escape(r):void 0},d.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.1.3",e.tags=["{{","}}"];var C=new d;e.clearCache=function(){return C.clearCache()},e.parse=function(e,n){return C.parse(e,n)},e.render=function(e,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+t(e)+'" was given as the first argument for mustache#render(template, view, partials)');return C.render(e,n,r)},e.to_html=function(t,r,o,i){var s=e.render(t,r,o);return n(i)?void i(s):s},e.escape=a,e.Scanner=l,e.Context=p,e.Writer=d})},{}],11:[function(e,n,t){function r(e,n,t){this.name=e,this.components={},this.services={},this.elements={},Array.isArray(n)||"object"!=typeof n||(t=n,n=[]),this.dependencies=n||[],this.options=t||{},this.router={url:window.location.pathname,filename:function(e){return e.substring(e.lastIndexOf("/")+1)}},this.checkDependencies()}var o=e("./util"),i=e("./compiler"),s=e("./dependency").inject,a=e("./element"),c=e("./factory"),u=o.debug("Room.application",0);r.prototype.checkDependencies=function(){var e=this;u.start("checkDependencies"),e.dependencies.forEach(function(n){return window[n]?void 0:void u.error("Dependency "+n+" is required for using module '"+e.name+"'")}),u.info("No dependency found or everything included"),u.end()},r.prototype.register=function(e,n){u.start("register");var t,r,o=this,i=[],a=[],f=!0;if(Array.isArray(n)?(t=n.pop(),r=n):(t=n,r=[]),r.forEach(function(e){var n=s(o,e);n?i.push(n):(f=!1,a.push(e))}),!o.components[e]){var l={name:e,ready:f,dependencies:r,inject:i,required:a};l=c.component(l),o.components[e]=l,l.factory=t.apply(l,l.inject)}u.end()},r.prototype.initComponent=function(e){u.start("initComponent:"+e.name),e.registered?u.info("Component "+e.name+" already registered"):(e.registered=!0,a.register(this,e.name,e.factory.shadow),(e.factory.init||function(){u.info("Registering "+this.name)}).apply(e,e.inject)),u.end},r.prototype.init=function(e){var n=this;for(var t in n.components){var r=n.components[t];!r.ready&&r.required.length>0&&r.required.forEach(function(e){n.initComponent(n.components[e])}),n.initComponent(r)}i.application(n.name),(e||function(){u.info("Application ready")}).apply(n)},r.prototype.find=function(e){return this.components[o.camelize(e)]},t.Application=r,t.app=function(e,n,t){var o=new r(e,n,t);return o}},{"./compiler":12,"./dependency":14,"./element":15,"./factory":16,"./util":22}],12:[function(e,n,t){var r=e("./util"),o=e("./config"),i=e("mustache"),s=r.debug("Room.compiler",0);t.application=function(e){var n=o.prefix+"-"+o.attr.app,t=r.$("["+n+'="'+r.hyphenate(e)+'"]');if(void 0===t||!t){var i=document.body;r.$.attr(i,"-"+o.attr.app,r.hyphenate(e))}},t.render=function(e,n){return n&&e?void(e.innerHTML=i.render(e.innerHTML,n)):(s.error("No data or node given for rendering"),!1)}},{"./config":13,"./util":22,mustache:10}],13:[function(e,n,t){t=n.exports={debug:!0,shadow:!0,prefix:"rm",attr:{component:"component",app:"app"}}},{}],14:[function(e,n,t){var r=e("./util").debug("Dependency",0);t.inject=function(e,n){r.start("inject:"+n);var t=e.components[n];return t?t:(e.dependencies.forEach(function(e){r.info("Looking for global dependency "+e),e===n&&(r.info("Global dependency found!"),t=window[e])}),t)}},{"./util":22}],15:[function(e,n,t){var r=e("./util"),o=r.debug("Element",-1),i=(e("./config"),["header","div","footer","main","p","span","nav","ul","dl","a","i"]),s=function(e){return document.createElement(e).constructor!==HTMLElement};t.isRegistered=s,t.register=function(e,n,t){if(o.start("register"),s(n)||i.indexOf(n)>-1)return o.info("Element "+n+" already registered in the DOM"),!1;var a=Object.create(HTMLElement.prototype);a.createdCallback=function(){var e=this.createShadowRoot();(t||function(){}).apply(e)};var c=e.elements[r.camelize(n)];void 0!==c&&c||(c=document.registerElement(r.hyphenate(n),{prototype:a})),o.end()}},{"./config":13,"./util":22}],16:[function(e,n,t){var r=e("./config"),o=e("./util/query").$,i=e("./compiler"),s=e("./util/core").hyphenate,a=(e("./util/core").camelize,{on:e("./util/dom").on,off:e("./util/dom").off});t.component=function(e){return e.fire=function(e,n,t){var r="on"+e.charAt(0).toUpperCase()+e.slice(1);(t||function(){})(self.factory[r].apply(self,n))},e.get=function(){var n=[],t=[],i=s(e.name);return[o("."+i),o("["+r.prefix+"-"+r.attr.component+'="'+i+'"]'),o("@"+i)].forEach(function(e){void 0!==typeof e&&e&&n.push(e)}),n.forEach(function(e){if(e&&void 0!==typeof e)try{[].slice.call(e).forEach(function(e){t.push(e)})}catch(n){console.error(n.message)}}),t},e.bind=function(n,t){e.nodes.forEach(function(e){void 0!==typeof e&&null!==e&&a.on(e,n,t)})},e.renderData=function(n){this.viewbag=n,e.nodes.forEach(function(e){i.render(e,n)})},e.unbind=function(n,t){e.nodes.forEach(function(e){void 0!==typeof e&&null!==e&&a.off(e,n,t)})},e.nodes=e.get(),e}},{"./compiler":12,"./config":13,"./util/core":19,"./util/dom":21,"./util/query":23}],17:[function(e,n,t){(function(r){var o=e("./util"),i=o.debug("Room",0)._env("node");"undefined"==typeof window&&r&&i.error("Room must run in a browser and not Node.js");var s=s||{};s.app=e("./app").app,s.$=e("./util/query").$,o.mixin(s.$,e("./util/ajax")),t=n.exports=s}).call(this,e("_process"))},{"./app":11,"./util":22,"./util/ajax":18,"./util/query":23,_process:1}],18:[function(e,n,t){var r=e("./debug")("Room.ajax");t.get=function(e,n){var t;if("undefined"!=typeof XMLHttpRequest)t=new XMLHttpRequest;else for(var o=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],i=0,s=o.length;s>i;i++)try{t=new ActiveXObject(o[i]);break}catch(a){r.error(a.message)}t.onreadystatechange=function(){return t.readyState<4||200!==t.status?void r.warn("XMLHttpRequest not ready yet"):void(4===t.readyState&&n(t))},t.open("GET",e,!0),t.send("")}},{"./debug":20}],19:[function(e,n,t){function r(e,n){return n?n.toUpperCase():""}t.isReserved=function(e){var n=(e+"").charCodeAt(0);return 36===n||95===n},t.camelize=function(e){return e.replace(/-(\w)/g,r)},t.hyphenate=function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()},t.bind=function(e,n){return function(t){var r=arguments.length;return r?r>1?e.apply(n,arguments):e.call(n,t):e.call(n)}},t.mixin=function(e,n){for(var t in n)e[t]=n[t];return e},t.contains=function(e,n){for(var t in e)if(e[t]===n)return!0;return!1}},{}],20:[function(e,n,t){function r(e,n){this.namespace=e||"<unknown>",this.enabled=!0,this.level=n||0,this.env="browser",this.writers={browser:{log:function(e){3>=n||console.log(e)},error:function(e){0>=n||console.error(e)},warn:function(e){1>=n||console.warn(e)},info:function(e){2>=n||console.info(e)},success:function(e){3>=n||console.succes(e)}},node:{log:function(e){console.log(e)},error:function(e){console.log(o.red(e))},warn:function(e){console.log(o.yellow(e))},info:function(e){console.log(o.cyan(e))},success:function(e){console.log(o.green(e))}}}}var o=e("chalk");r.prototype._env=function(e){this.env=e},r.prototype._out=function(e,n){if(this.enabled&&this.level>-1){var t=this.writers[this.env][e];if("function"==typeof t)t("["+this.namespace+"] "+n);else try{t.apply(console,"["+this.namespace+"] "+n)}catch(r){throw new Error(r)}}},r.prototype.start=function(e){console.group&&this.level>0&&console.group(this.namespace+(e?"."+e:""))},r.prototype.end=function(){console.groupEnd&&this.level>0&&console.groupEnd()},r.prototype.log=function(e){this._out("log",e)},r.prototype.warn=function(e){this._out("warn",e)},r.prototype.info=function(e){this._out("info",e)},r.prototype.error=function(e){this._out("error",e)},r.prototype.success=function(e){this._out("success",e)},t=n.exports=function(e,n){return new r(e,n)}},{chalk:2}],21:[function(e,n,t){var r=e("./../config");t.attr=function(e,n,t){return n=r.prefix+n,!t&&e?e.getAttribute(n):e&&n&&t?e.setAttribute(n,t):void 0},t.before=function(e,n){n.parentNode.insertBefore(e,n)},t.after=function(e,n){n.nextSibling?t.before(e,n.nextSibling):n.parentNode.appendChild(e)},t.remove=function(e){e.parentNode.removeChild(e)},t.prepend=function(e,n){n.firstChild?t.before(e,n.firstChild):n.appendChild(e)},t.replace=function(e,n){var t=e.parentNode;t&&t.replaceChild(n,e)},t.on=function(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent(n,t)},t.off=function(e,n,t){e.removeEventListener?e.removeEventListener(n,t):e.detachEvent&&e.detachEvent(n,t)},t.addClass=function(e,n){if(e.classList)e.classList.add(n);else{var t=" "+(e.getAttribute("class")||"")+" ";t.indexOf(" "+n+" ")<0&&e.setAttribute("class",(t+n).trim())}},t.removeClass=function(e,n){if(e.classList)e.classList.remove(n);else{for(var t=" "+(e.getAttribute("class")||"")+" ",r=" "+n+" ";t.indexOf(r)>=0;)t=t.replace(r," ");e.setAttribute("class",t.trim())}}},{"./../config":13}],22:[function(e,n,t){var r=e("./core");r.mixin(t,r),r.mixin(t,e("./query")),r.mixin(t.$,e("./dom")),t.debug=e("./debug"),t.ajax=e("./ajax")},{"./ajax":18,"./core":19,"./debug":20,"./dom":21,"./query":23}],23:[function(e,n,t){var r=function(e){var n={"#":"getElementById",".":"getElementsByClassName","@":"getElementsByName","=":"getElementsByTagName","?":"querySelectorAll"},t=/[=#@.*]/.exec(e)[0],r=document[n[t]](e.split(t)[1]);return r.length>1?r:r[0]};t.$=r},{}]},{},[17])(17)});
//# sourceMappingURL=room.min.js.map
